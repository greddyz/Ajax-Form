!function(a){a.fn.ajaxForm=function(b){var c=a.extend({debug:!1,successElement:"div",successClass:"alert alert-success",errorElement:"div",errorClass:"alert alert-danger",formGroupClass:"form-group",formGroupErrClass:"has-error",errorTextElement:"span",errorTextClass:"help-block help-block-error small",errorTextRequired:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c.",loaderElement:"span",loaderClass:"af-loader",url:"lib/mail/mail.php"},b);return this.each(function(){a(this).find("[aria-required=true]").focus(function(){var b=a(this).parents("."+c.formGroupClass);b.hasClass(c.formGroupErrClass)&&(b.removeClass(c.formGroupErrClass),b.find("[data-af=error-text]").remove())}),a(this).submit(function(b){b.preventDefault();var d=a(this),e=!1;d.find("[aria-required=true]").each(function(){var b=a(this).parents("."+c.formGroupClass);""===a(this).val()&&(b.is(":not(."+c.formGroupErrClass+")")&&(b.addClass(c.formGroupErrClass),a(this).after(a("<"+c.errorTextElement+" />",{"class":c.errorTextClass,"data-af":"error-text",text:c.errorTextRequired}))),e=!0)}),e||jQuery.ajax({type:"POST",url:c.url,dataType:"json",data:{formData:d.serialize()},beforeSend:function(){d.find("[type=submit]").prop("disabled",!0).prepend(a("<"+c.loaderElement+" />",{"class":c.loaderClass,"data-af":"loader"}))},success:function(b){b.error?(d.find("[data-af=form-msg]").remove(),a("<"+c.errorElement+" />",{"class":c.errorClass,"data-af":"form-msg",text:b.error}).prependTo(d),c.debug===!0&&b.debug&&console.log(b.debug)):b.success&&(d.find("[data-af=form-msg]").remove(),d.find("input, textarea").val(""),a("<"+c.successElement+" />",{"class":c.successClass,"data-af":"form-msg",text:b.success}).prependTo(d),c.debug===!0&&b.debug&&console.log(b.debug))},error:function(a,b,d){c.debug===!0&&(console.log(a.status),console.log(d))},complete:function(){d.find("[type=submit]").prop("disabled",!1),d.find("[data-af=loader]").remove()}})})})}}(jQuery);